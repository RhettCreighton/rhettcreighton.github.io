{"version":3,"names":[],"mappings":"","sources":["nishapur-set-view.js"],"sourcesContent":["(function() {\n\tvar CANVAS_SIZE = 512;\n\tvar FAIRY_CANVAS_PROPERTIES = {\n\t\t\tcx: CANVAS_SIZE,\n\t\t\tcy: CANVAS_SIZE\n\t}\n\tfunction THREE_CONST(v) {\n\t\tif(typeof THREE!==\"undefined\")\n\t\t\treturn THREE[v];\n\t\telse\n\t\t\treturn 0;\n\t}\n\n\tView.Game.cbNishapurPieceStyle = function(modifier) {\n\t\treturn $.extend(true,{\n\t\t\t\"1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tclipy: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"-1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tclipy: 100,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"default\": {\n\t\t\t\t\"3d\": {\n\t\t\t\t\tdisplay: this.cbDisplayPieceFn(this.cbNishapurPieceStyle3D),\n\t\t\t\t},\n\t\t\t\t\"2d\": {\n\t\t\t\t\tfile: this.mViewOptions.fullPath + \"/res/nishapur/nishapur-2d-sprites.png\",\n\t\t\t\t\tclipwidth: 100,\n\t\t\t\t\tclipheight: 100,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-pawn\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-knight\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 300,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-elephant\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 200,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-rook\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 100,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-general\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 400,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"np-king\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 500,\n\t\t\t\t},\n\t\t\t},\n\t\t},modifier);\n\t}\n\t\n\tView.Game.cbNishapurPieceStyle3D = $.extend(true,{},View.Game.cbUniformPieceStyle3D,{\n\t\t\n\t\t\"default\": {\n\t\t\tmesh: {\n\t\t\t\tnormalScale: 1,\n\t\t\t\trotateZ: 180,\n\t\t\t},\n\t\t\t//'useUniforms' : true,\n\t\t\tmaterials:{\n\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\tchannels:{ \n\t\t\t\t\t\tdiffuse:{\n\t\t\t\t\t\t\tsize: FAIRY_CANVAS_PROPERTIES, \n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: { \n\t\t\t\t\t\t\tsize: FAIRY_CANVAS_PROPERTIES,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\t\n\t\t},\n\n\t\t\"1\":{\n\t\t\t'default': {\n\t\t\t\tmaterials:{\n\t\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\t\tparams : {\n\t\t\t\t\t\t\tspecular: 0x111111,\n\t\t\t\t\t\t\tshininess : 100 , \n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpaintTextureImageClip: function(spec,ctx,material,channel,channelData,imgKey,image,clip,resources) {\n\t\t\t\t\tvar cx=ctx.canvas.width;\n\t\t\t\t\tvar cy=ctx.canvas.height;\n\t\t\t\t\tif(channel==\"diffuse\") {\n\t\t\t\t\t\tctx.globalCompositeOperation = 'normal';\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t\t\tctx.globalCompositeOperation = 'overlay';\n\t\t\t\t\t\tctx.fillStyle='rgba(123,61,27,0.7)';\n\t\t\t\t\t\tctx.fillRect(0,0,CANVAS_SIZE,CANVAS_SIZE);\n\t\t\t\t\t} else\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t\"-1\":{\n\t\t\t'default': {\n\t\t\t\tmaterials:{\n\t\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\t\tparams : {\n\t\t\t\t\t\t\tspecular: 0x333333,\n\t\t\t\t\t\t\tshininess : 100 , \n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpaintTextureImageClip: function(spec,ctx,material,channel,channelData,imgKey,image,clip,resources) {\n\t\t\t\t\tvar cx=ctx.canvas.width;\n\t\t\t\t\tvar cy=ctx.canvas.height;\n\t\t\t\t\tif(channel==\"diffuse\") {\n\t\t\t\t\t\tctx.globalCompositeOperation = 'normal';\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t\t\tctx.globalCompositeOperation = 'overlay';\n\t\t\t\t\t\tctx.fillStyle='rgba(127,127,68,0.7)';\n\t\t\t\t\t\tctx.fillRect(0,0,CANVAS_SIZE,CANVAS_SIZE);\n\t\t\t\t\t} else\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\t\n\t\t\"np-pawn\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/pawn/pawn.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/pawn/pawn-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/pawn/pawn-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\t\"np-knight\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/knight/knight.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/knight/knight-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/knight/knight-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\t\"np-elephant\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/elephant/elephant.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/elephant/elephant-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/elephant/elephant-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\t\"np-rook\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/rook/rook.js\" \t\t\n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/rook/rook-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/rook/rook-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\t\"np-general\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/general/general.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/general/general-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/general/general-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\t\"np-king\": {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/nishapur/king/king.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/nishapur/king/king-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/nishapur/king/king-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\t\t\n\n\t});\n\t\n})();"],"file":"byzantine-chess-view.js"}