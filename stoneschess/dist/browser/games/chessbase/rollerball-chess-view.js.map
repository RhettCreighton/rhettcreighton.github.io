{"version":3,"names":[],"mappings":"","sources":["staunton-set-view.js"],"sourcesContent":["(function() {\n\tvar CANVAS_SIZE = 512;\n\tvar STAUNTON_CANVAS_PROPERTIES = {\n\t\t\tcx: CANVAS_SIZE,\n\t\t\tcy: CANVAS_SIZE\n\t}\n\tfunction THREE_CONST(v) {\n\t\tif(typeof THREE!==\"undefined\")\n\t\t\treturn THREE[v];\n\t\telse\n\t\t\treturn 0;\n\t}\n\n\tView.Game.cbStauntonWoodenPieceStyle = function(modifier) {\n\t\treturn this.cbStauntonPieceStyle($.extend(true,{\n\t\t\t\"default\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tfile: this.mViewOptions.fullPath + \"/res/images/woodenpieces2d2.png\",\n\t\t\t\t},\n\t\t\t},\n\t\t},modifier));\n\t}\n\t\n\tView.Game.cbStauntonPieceStyle = function(modifier) {\n\t\treturn $.extend(true,{\n\t\t\t\"1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tclipy: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"-1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tclipy: 100,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"default\": {\n\t\t\t\t\"3d\": {\n\t\t\t\t\tdisplay: this.cbDisplayPieceFn(this.cbStauntonPieceStyle3D),\n\t\t\t\t},\n\t\t\t\t\"2d\": {\n\t\t\t\t\tfile: this.mViewOptions.fullPath + \"/res/images/wikipedia.png\",\n\t\t\t\t\tclipwidth: 100,\n\t\t\t\t\tclipheight: 100,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"pawn\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"knight\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 100,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"bishop\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 200,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"rook\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 300,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"queen\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 400,\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"king\": {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 500,\n\t\t\t\t},\n\t\t\t},\n\t\t},modifier);\n\t}\n\t\n\tView.Game.cbStauntonPieceStyle3D = $.extend(true,{},View.Game.cbUniformPieceStyle3D,{\n\t\t\n\t\t\"default\": {\n\t\t\tmesh: {\n\t\t\t\tnormalScale: 1,\n\t\t\t\trotateZ: 180,\n\t\t\t},\n\t\t\t//'useUniforms' : true,\n\t\t\tmaterials:{\n\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\tchannels:{ \n\t\t\t\t\t\tdiffuse:{\n\t\t\t\t\t\t\tsize: STAUNTON_CANVAS_PROPERTIES, \n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: { \n\t\t\t\t\t\t\tsize: STAUNTON_CANVAS_PROPERTIES,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\t\n\t\t},\n\n\t\t\"1\":{\n\t\t\t'default': {\n\t\t\t\tmaterials:{\n\t\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\t\tparams : {\n\t\t\t\t\t\t\t//specular: 0xaaccff,\n\t\t\t\t\t\t\tspecular: 0x020202,\n\t\t\t\t\t\t\tshininess : 150 , \n\t\t\t\t\t\t\t//combine: THREE_CONST('AddOperation'), \n\t\t\t\t\t\t\t//shading: THREE_CONST('SmoothShading'),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\t\"-1\":{\n\t\t\t'default': {\n\t\t\t\tmaterials:{\n\t\t\t\t\tmat0:{\t\t\t\t\t\t\n\t\t\t\t\t\tparams : {\n\t\t\t\t\t\t\tspecular: 0x080808,\n\t\t\t\t\t\t\tshininess : 100 , \n\t\t\t\t\t\t\t//combine: THREE_CONST('AddOperation'), \n\t\t\t\t\t\t\t//shading: THREE_CONST('SmoothShading'),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tpaintTextureImageClip: function(spec,ctx,material,channel,channelData,imgKey,image,clip,resources) {\n\t\t\t\t\tvar cx=ctx.canvas.width;\n\t\t\t\t\tvar cy=ctx.canvas.height;\n\t\t\t\t\tif(channel==\"diffuse\") {\n\t\t\t\t\t\tctx.globalCompositeOperation = 'normal';\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t\t\tctx.globalCompositeOperation = 'multiply';\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t\t\tctx.globalCompositeOperation = 'hue';\n\t\t\t\t\t\tctx.fillStyle='rgba(0,0,0,0.7)';\n\t\t\t\t\t\tctx.fillRect(0,0,CANVAS_SIZE,CANVAS_SIZE);\n\t\t\t\t\t} else\n\t\t\t\t\t\tctx.drawImage(image,clip.x,clip.y,clip.cx,clip.cy,0,0,cx,cy);\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\t\n\t\tpawn: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/pawn/pawn-classic.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/pawn/pawn-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/pawn/pawn-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\tknight: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/knight/knight.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/knight/knight-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/knight/knight-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\tbishop: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/bishop/bishop.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/bishop/bishop-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/bishop/bishop-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\trook: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/rook/rook.js\" \t\t\n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/rook/rook-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/rook/rook-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\tqueen: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/queen/queen.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/queen/queen-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/queen/queen-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t\tking: {\n\t\t\tmesh: { \n\t\t\t\tjsFile:\"/res/staunton/king/king.js\" \n\t\t\t},\n\t\t\tmaterials: {\n\t\t\t\tmat0: {\n\t\t\t\t\tchannels: {\n\t\t\t\t\t\tdiffuse: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tdiffImg : \"/res/staunton/king/king-diffusemap.jpg\",\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormal: {\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\tnormalImg: \"/res/staunton/king/king-normalmap.jpg\", \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\t\n\t});\n\t\n})();"],"file":"rollerball-chess-view.js"}