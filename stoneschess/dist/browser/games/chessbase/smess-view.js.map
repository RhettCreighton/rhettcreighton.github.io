{"version":3,"names":[],"mappings":"","sources":["smess-set-view.js"],"sourcesContent":["(function() {\n\n\tvar FLAT_CANVAS_WIDTH = 1024 ;\n\tvar FLAT_CANVAS_HEIGHT = 1024 ;\n\t\n\t//var TOKEN_BGCOLOR = \"#FFD8A5\";\n\t//var TOKEN_BGCOLOR = \"#FFF5F5\";\n\tvar TOKEN_BGCOLOR = \"rgb(255,248,240)\";\n\t\n\t\n\tvar TOKEN_MAT_PROPS = {\n\t\t\t//color : 0xffffff,\n\t\t\tshininess : 10,\n\t\t\tbumpScale: 0.05,\n\t\t\t//emissive: {r:.3,g:.3,b:.4},\n\t\t\tspecular: {r:0.1,g:0.1,b:0.1},\n\t\t};\n\n\tfunction THREE_CONST(v) {\n\t\tif(typeof THREE!==\"undefined\")\n\t\t\treturn THREE[v];\n\t\telse\n\t\t\treturn 0;\n\t}\n\t\n\tView.Game.cbSmessPieceStyle = function(modifier) {\n\t\treturn $.extend(true,{\n\t\t\t\"1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tfile: this.mViewOptions.fullPath + \"/res/smess/smess-pieces-sprites-a.png\",\n\t\t\t\t\t\tclipy: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"-1\": {\n\t\t\t\t\"default\": {\n\t\t\t\t\t\"2d\": {\n\t\t\t\t\t\tfile: this.mViewOptions.fullPath + \"/res/smess/smess-pieces-sprites-b.png\",\n\t\t\t\t\t\tclipy: 0,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"default\": {\n\t\t\t\t\"3d\": {\n\t\t\t\t\tdisplay: this.cbDisplayPieceFn(this.cbSmessPieceStyle3D),\n\t\t\t\t},\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipwidth: 300,\n\t\t\t\t\tclipheight: 300,\n\t\t\t\t},\n\t\t\t},\n\t\t\t'sm-pawn': {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 0,\n\t\t\t\t},\n\t\t\t},\t\t\t\n\t\t\t'sm-skull': {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 300,\n\t\t\t\t},\n\t\t\t},\t\t\t\n\t\t\t'sm-brain': {\n\t\t\t\t\"2d\": {\n\t\t\t\t\tclipx: 600,\n\t\t\t\t},\n\t\t\t},\t\t\t\n\t\t},modifier);\n\t}\n\t\n\tView.Game.cbSmessPieceStyle3D = $.extend(true,{},View.Game.cbTokenPieceStyle3D,{\n\t\t\n\t\t'1': {\n\t\t\t'default': {\n\t\t\t\t'materials': {\n\t\t\t\t\t'piecetop': {\n\t\t\t\t\t\t'channels': {\n\t\t\t\t\t\t\t'bump':{\n\t\t\t\t\t\t\t\t'texturesImg': {\n\t\t\t\t\t\t\t\t\t'bumpTexturePattern': \"/res/smess/smess-pieces-sprites.png\",\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'diffuse': {\n\t\t\t\t\t\t\t\t'texturesImg': {\n\t\t\t\t\t\t\t\t\t'mainDiffuse': \"/res/smess/playera-bg.png\",\n\t\t\t\t\t\t\t\t\t'faceDiffuse': \"/res/smess/smess-pieces-sprites.png\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\t\t\t\n\t\t},\n\t\t'-1': {\n\t\t\t'default': {\n\t\t\t\t'materials': {\n\t\t\t\t\t'piecetop': {\n\t\t\t\t\t\t'channels': {\n\t\t\t\t\t\t\t'bump':{\n\t\t\t\t\t\t\t\t'texturesImg': {\n\t\t\t\t\t\t\t\t\t'bumpTexturePattern': \"/res/smess/smess-pieces-sprites.png\",\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'diffuse': {\n\t\t\t\t\t\t\t\t'texturesImg': {\n\t\t\t\t\t\t\t\t\t'mainDiffuse': \"/res/smess/playerb-bg.png\",\n\t\t\t\t\t\t\t\t\t'faceDiffuse': \"/res/smess/smess-pieces-sprites.png\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\t\t\t\n\t\t},\n\n\t\t\n\t\t'default': {\n\t\t\t\n\t\t\t'mesh': {\n\t\t\t\tjsFile:\"/res/smess/token.js\",\n\t\t\t},\n\n\t\t\t'materials':{\n\t\t\t\t'pieceborders':{\n\t\t\t\t\t'params': TOKEN_MAT_PROPS ,\n\t\t\t\t\t'channels':{\n\t\t\t\t\t\t'diffuse':{\n\t\t\t\t\t\t\tsize: { cx: FLAT_CANVAS_WIDTH, cy: FLAT_CANVAS_WIDTH },\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\t'mainDiffuse': \"/res/smess/playera-bg.png\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'piecetop':{\n\t\t\t\t\t'params': TOKEN_MAT_PROPS ,\n\t\t\t\t\t'channels':{\n\t\t\t\t\t\t'bump':{\n\t\t\t\t\t\t\tsize: { cx: 512, cy: 512 },\n\t\t\t\t\t\t\ttexturesImg: {\n\t\t\t\t\t\t\t\t//'bumpTexture': \"/res/smess/piecebump.jpg\",\n\t\t\t\t\t\t\t},\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'bumpTexturePattern': {\n\t\t\t\t\t\t\t\t\ty:0,\n\t\t\t\t\t\t\t\t\tcx: 300,\n\t\t\t\t\t\t\t\t\tcy: 300,\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'patternFill': {\n\t\t\t\t\t\t\t\t'bumpTexturePattern': \"rgba(0,0,0,0.2)\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'diffuse':{\n\t\t\t\t\t\t\tsize: { cx: FLAT_CANVAS_WIDTH, cy: FLAT_CANVAS_HEIGHT },\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'faceDiffuse': {\n\t\t\t\t\t\t\t\t\ty:0,\n\t\t\t\t\t\t\t\t\tcx: 300,\n\t\t\t\t\t\t\t\t\tcy: 300,\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\t'sm-pawn': {\n\t\t\t'materials': {\n\t\t\t\t'piecetop': {\n\t\t\t\t\t'channels': {\n\t\t\t\t\t\t'diffuse': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'faceDiffuse': {\n\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'bump': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'bumpTexturePattern': {\n\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\t\t\t\n\n\t\t'sm-skull': {\n\t\t\t'materials': {\n\t\t\t\t'piecetop': {\n\t\t\t\t\t'channels': {\n\t\t\t\t\t\t'diffuse': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'faceDiffuse': {\n\t\t\t\t\t\t\t\t\tx: 300,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'bump': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'bumpTexturePattern': {\n\t\t\t\t\t\t\t\t\tx: 300,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\t\t\t\n\n\t\t'sm-brain': {\n\t\t\t'materials': {\n\t\t\t\t'piecetop': {\n\t\t\t\t\t'channels': {\n\t\t\t\t\t\t'diffuse': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'faceDiffuse': {\n\t\t\t\t\t\t\t\t\tx: 600,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'bump': {\n\t\t\t\t\t\t\t'clipping': {\n\t\t\t\t\t\t\t\t'bumpTexturePattern': {\n\t\t\t\t\t\t\t\t\tx: 600,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\t\t\t\n\n\t});\n\t\n})();"],"file":"smess-view.js"}